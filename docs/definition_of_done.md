# Definition of Done (DoD)

本文件定义各类 Task 在 BUILD 阶段被视为“完成”的判定标准。
如与 AGENTS.md 冲突，以 AGENTS.md 为准。
当 IMPLEMENTATION_PLAN.md 中仅剩 [DEBT] / Deferred 项，
且系统可运行、测试通过时，
视为达到阶段性可交付状态，可人工终止 Ralph 执行。

---

## 通用原则
- 不得仅以“代码已修改”作为完成标准
- 完成必须是可验证、可复查的

---

## [NEW]
- 新能力可被调用或运行
- 有对应测试，且测试通过
- 未引入回归失败

## [CHANGE]
- 行为已与 specs 明确对齐
- 相关测试通过
- 未引入新的行为分支

## [BUG]
- Bug 现象不可再复现
- 至少一个测试在修复前失败、修复后通过

## [TEST]
- 测试在修复前无法形成有效背压
- 测试在修复后可稳定失败 / 通过

## [PERF]
- 明确指标被验证（benchmark / 日志 / 断言之一）
- 性能或稳定性问题被证实改善

## [DOC]
- 文档解决了一个真实执行歧义或踩坑点
- 文档可被 BUILD / PLAN 引用

## [REFACTOR]
- 对外行为无变化
- 全量测试通过

## [DEBT]
- 仅记录，不视为完成性任务
